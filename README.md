Колесников Никита Андреевич M3100
# Документация плагина "labwork3-isrpo"

## Функциональность
Плагин для Visual Studio Code, который автоматически выделяет четные и нечетные числа в тексте разными цветами.
Что делает:
- **Автоматическое выделение** чисел при открытии файлов
- **Цветовое кодирование**: четные числа - синий, нечетные - розовый
- **Переключатель подсветки** с уведомлениями
- **Автообновление** при изменении текста

## Команда использования

| Команда | Назначение |
|---------|------------|
| `Toggle Number Highlighting` | Включить/выключить подсветку чисел |

## Архитектура

### Основные компоненты

```typescript```
// Декларации стилей
const evenDecoration  // Стиль для четных чисел (синий)
const oddDecoration   // Стиль для нечетных чисел (розовый)

// Состояние
let isHighlighting    // Флаг активности подсветки

## Ключевые методы

### `highlightNumbers()`
**Назначение**: Поиск и выделение чисел в активном редакторе

**Алгоритм**:
1. Получение текста из активного редактора
2. Поиск целых чисел с помощью регулярного выражения `/\b\d+\b/g`
3. Классификация чисел на четные/нечетные
4. Применение соответствующих стилей оформления

**Параметры**: Нет

**Возвращаемое значение**: Нет


### `clearHighlights()`
**Назначение**: Удаление всех выделений чисел из активного редактора

**Действие**: Очищает декорации для четных и нечетных чисел

**Параметры**: Нет

**Возвращаемое значение**: Нет


### `toggleHighlighting()`
**Назначение**: Переключение состояния подсветки чисел

**Поведение**:
- При включении подсвечивает все числа в активном редакторе
- При выключении удаляет все подсветки
- Показывает информационное сообщение пользователю

**Параметры**: Нет

**Возвращаемое значение**: Нет

### `activate(context: vscode.ExtensionContext)`
**Назначение**: Активирует расширение при его загрузке в VS Code

**Выполняемые действия**:
1. Регистрирует команду переключения подсветки
2. Применяет начальную подсветку чисел
3. Подписывается на события изменения текста и смены редактора

**Параметры**:
- `context` (vscode.ExtensionContext): контекст расширения для управления подписками

**Подписки**:
- `onDidChangeTextDocument`: обновляет подсветку при изменении текста
- `onDidChangeActiveTextEditor`: обновляет подсветку при смене редактора

### `deactivate()`
**Назначение**: Деактивирует расширение при его выгрузке из VS Code

**Действие**: Выполняет очистку ресурсов и отписку от событий

**Параметры**: Нет

**Возвращаемое значение**: Нет

## Система событий

### Слушатели событий

| Событие | Тип | Триггер | Действие |
|---------|-----|---------|----------|
| `onDidChangeTextDocument` | Изменение содержимого | Любое изменение текста в документе | Обновление подсветки чисел |
| `onDidChangeActiveTextEditor` | Изменение интерфейса | Переключение между вкладками редактора | Обновление подсветки чисел |

### Условия выполнения
Обработка событий происходит только при активной подсветке (`isHighlighting === true`)

## Конфигурация

### Цветовые схемы

| Тип чисел | Цвет | Код цвета | Прозрачность | Назначение |
|-----------|------|-----------|--------------|------------|
| Четные | Синий | `rgba(0, 102, 255, 0.82)` | 82% | Визуальное выделение четных чисел |
| Нечетные | Розовый | `rgba(255, 0, 217, 0.31)` | 31% | Визуальное выделение нечетных чисел |

## Жизненный цикл

### Фаза активации (`activate`)
1. **Регистрация команды** - создание обработчика для `labwork3-isrpo.highlightNumbers`
2. **Начальная подсветка** - автоматическое применение выделения при запуске плагина
3. **Подписка на события** - подключение слушателей изменений редактора

### Фаза работы
- **Реакция на команды** - обработка запросов пользователя
- **Автообновление** - отслеживание изменений в реальном времени
- **Управление состоянием** - контроль активности подсветки

### Фаза деактивации (`deactivate`)
- **Очистка ресурсов** - освобождение системных ресурсов
- **Отписка от событий** - прекращение отслеживания изменений